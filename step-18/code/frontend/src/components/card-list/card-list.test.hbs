import React from 'react';
import { checkProps } from '../../common/utils/test-helpers';
import { render, RenderResult } from '@testing-library/react';

import CardList from './card-list.component';

{{partial_1}}describe("CardListComponent", () => {

    describe("Checking prop types", () => {

        it ("Should not throw any warnings", () => {

            const expectedProps = {
{{partial_2}}                name : "card name",
                cardsData : [
                    {
                        id : 1,
                        name: "Card 1"
                    },
                    {
                        id : 2,
                        name : "Card 2"
                    }
                ]
            }

            const propErrors = checkProps(CardList, expectedProps);

            expect(propErrors).toBeUndefined();

        })

        it ("Should throw warnings when there are missing required properties", () => {

            const expectedProps = {};

            const propErrors = checkProps(CardList, expectedProps);

            expect(propErrors).toBeDefined();
        })

{{partial_3}}    })

    describe("Render", () =>{


        it ("Should render without errors with no cardData", () => {

{{partial_4}}
            const cardContainerDiv: HTMLElement = renderedComponent.getByTestId('cardList.cardContainer');

            expect(cardContainerDiv.childElementCount).toBe(0);
        })

        it ("Should render without errors with valid cardData", () => {

            const cardData: any = [
                {
                    id : 1,
                    name : "Card 1"
                },
                {
                    id : 2,
                    name : "Card 2"
                }
            ]
{{partial_5}}
            const card1Div = renderedComponent.getByText(cardData[0].name);
            const card2Div = renderedComponent.getByText(cardData[1].name);

            // expect(card1Div).toBeDefined();
            // expect(card2Div).toBeDefined();

        })

        it ("Should render without errors with invalid cardData", () => {

            const cardData: any = [
                {
                    invalidKey : "Card 1"
                },
                {
                    randomProperty : "Card 2"
                }
            ]
{{partial_6}}
            const card1Div = renderedComponent.queryByText(cardData[0].invalidKey);
            const card2Div = renderedComponent.queryByText(cardData[1].randomProperty);

            expect(card1Div).toBeNull();
            expect(card2Div).toBeNull();
        })

        it ("Should render without errors with half invalid and half valid cardData", () => {

            const cardData: any = [
                {
                    name: "Card 1"
                },
                {
                    id : 2,
                    name : "Card 2"
                }
            ]

{{partial_7}}
            const card1Div = renderedComponent.queryByText(cardData[0].name);
            const card2Div = renderedComponent.getByText(cardData[1].name);

            expect(card1Div).toBeNull();
        })
    });

})